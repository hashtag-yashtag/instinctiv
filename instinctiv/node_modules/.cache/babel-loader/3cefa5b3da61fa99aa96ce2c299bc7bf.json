{"ast":null,"code":"import _regeneratorRuntime from \"/Users/yash/instinctiv/instinctiv/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/yash/instinctiv/instinctiv/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/yash/instinctiv/instinctiv/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/yash/instinctiv/instinctiv/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/yash/instinctiv/instinctiv/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/yash/instinctiv/instinctiv/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/yash/instinctiv/instinctiv/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/yash/instinctiv/instinctiv/src/components/Home/index.js\";\nimport React, { Component } from 'react';\nimport { AuthUserContext, withAuthorization } from '../Session';\nimport { Alert } from 'reactstrap';\nimport TradingViewWidget, { Themes } from 'react-tradingview-widget';\nimport { Table } from 'reactstrap';\nimport './home.css';\nimport 'react-autocomplete-input/dist/bundle.css';\nimport Autocomplete from \"./Autocomplete\";\n/* \nconst SYMBOL = '01. symbol'\nconst OPEN_PRICE = '02. open'\nconst HIGH_PRICE = '03. high'\nconst LOW_PRICE = '04. low' \nconst CURRENT_PRICE = '05. price'\n\n\nvar stocksList = [\n  {ticker:'AAPL', price: ''},\n  {ticker:'MSFT', price: ''},\n  {ticker:'TSLA', price: ''},\n  {ticker:'FB', price: ''},\n  {ticker:'NFLX', price: ''}\n];*/\n\nvar stockSearchList = [];\nvar userSearchList = []; //var alphaKey = '2U48DC45SZ4PJT3U'\n\n/* async function getStockPrices() {\n  for (var stock of stocksList) {\n    //Comment out for actual values\n    // var alphaURL = 'https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol='+stock.ticker+'&apikey='+alphaKey;\n\n    //Comment out for dummy values\n    var alphaURL = 'https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=MSFT&apikey=demo'\n\n    stock.price = await fetch(alphaURL).then(\n      response => response.json()).then(\n        data => {\n          return data['Global Quote'][CURRENT_PRICE];\n        }\n    )\n    stock.ticker = await fetch(alphaURL).then(\n      response => response.json()).then(\n        data => {\n          return data['Global Quote'][SYMBOL];\n        }\n    )\n    console.log(stock.price);\n    console.log(stocksList);\n  }\n} */\n\nvar HomePage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(HomePage, _Component);\n\n  function HomePage() {\n    var _this;\n\n    _classCallCheck(this, HomePage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HomePage).call(this));\n    _this.state = {\n      authUser: null,\n      balance: '' //this.handleChange = this.handleChange.bind(this);\n      //this.handleSubmitStock = this.handleSubmitStock.bind(this);\n\n    };\n    return _this;\n  }\n\n  _createClass(HomePage, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var _this2 = this;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                stockSearchList = [];\n                userSearchList = [];\n                this.props.firebase.db.collection(\"Users\").doc(this.props.firebase.auth.O).onSnapshot(function (docSnapshot) {\n                  console.log(\"Received doc snapshot: docSnapshot\", docSnapshot.data());\n\n                  _this2.setState({\n                    balance: docSnapshot.data().balance,\n                    username: docSnapshot.data().username\n                  }); // ...\n\n                }, function (err) {\n                  console.log(\"Encountered error: \".concat(err));\n                });\n                _context.next = 5;\n                return this.props.firebase.db.collection(\"Stocks\").get().then(function (querySnapshot) {\n                  querySnapshot.forEach(function (doc) {\n                    // doc.data() is never undefined for query doc snapshots\n                    stockSearchList.push(doc.data()['ticker'] + \": \" + doc.data()['name']);\n                  });\n                });\n\n              case 5:\n                _context.next = 7;\n                return this.props.firebase.db.collection(\"Users\").get().then(function (querySnapshot) {\n                  querySnapshot.forEach(function (doc) {\n                    // doc.data() is never undefined for query doc snapshots\n                    userSearchList.push(doc.data()['username']);\n                  });\n                });\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(AuthUserContext.Consumer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, function (authUser) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"home-page\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        }, \"Welcome to Instinctiv, \", _this3.state.username), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        }, \"The Home Page is accessible by every signed in user.\"), React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"column small-centered small-11 medium-6 large-5\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        }, React.createElement(Autocomplete, {\n          suggestions: stockSearchList,\n          userSuggestions: userSearchList,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"float-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        }, React.createElement(Alert, {\n          color: \"primary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114\n          },\n          __self: this\n        }, \"Token Balance: \", _this3.state.balance))))), React.createElement(\"div\", {\n          className: \"float-right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        }, \"Favorites\"), React.createElement(Table, {\n          stripped: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125\n          },\n          __self: this\n        }, React.createElement(\"thead\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126\n          },\n          __self: this\n        }, React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127\n          },\n          __self: this\n        }, React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128\n          },\n          __self: this\n        }, \"Ticker\"), React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129\n          },\n          __self: this\n        }, \"Price\"))), React.createElement(\"tbody\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132\n          },\n          __self: this\n        }, React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134\n          },\n          __self: this\n        }, \"stock\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135\n          },\n          __self: this\n        }, \"price\")), React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138\n          },\n          __self: this\n        }, \"stock\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139\n          },\n          __self: this\n        }, \"price\")), React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142\n          },\n          __self: this\n        }, \"stock\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143\n          },\n          __self: this\n        }, \"price\")), React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146\n          },\n          __self: this\n        }, \"stock\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147\n          },\n          __self: this\n        }, \"price\")), React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, \"stock\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151\n          },\n          __self: this\n        }, \"price\"))))), React.createElement(\"div\", {\n          className: \"float-left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158\n          },\n          __self: this\n        }, \"Leaderboard\"), React.createElement(Table, {\n          stripped: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159\n          },\n          __self: this\n        }, React.createElement(\"thead\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160\n          },\n          __self: this\n        }, React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161\n          },\n          __self: this\n        }, React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162\n          },\n          __self: this\n        }, \"User\"), React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163\n          },\n          __self: this\n        }, \"Score\"))), React.createElement(\"tbody\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166\n          },\n          __self: this\n        }, React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168\n          },\n          __self: this\n        }, \"Alpha\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169\n          },\n          __self: this\n        }, \"95.33%\")), React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 171\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172\n          },\n          __self: this\n        }, \"Beta\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173\n          },\n          __self: this\n        }, \"92.1%\")), React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176\n          },\n          __self: this\n        }, \"Gamma\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177\n          },\n          __self: this\n        }, \"75.66%\")), React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 180\n          },\n          __self: this\n        }, \"Delta\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 181\n          },\n          __self: this\n        }, \"72.54%\")), React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184\n          },\n          __self: this\n        }, \"Epsilon\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 185\n          },\n          __self: this\n        }, \"56.5%\"))))), React.createElement(\"div\", {\n          className: \"stock-chart\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190\n          },\n          __self: this\n        }, React.createElement(TradingViewWidget, {\n          symbol: \"AMZN\",\n          theme: Themes.LIGHT,\n          locale: \"en\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 191\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          id: \"news\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 198\n          },\n          __self: this\n        }));\n      });\n    }\n  }]);\n\n  return HomePage;\n}(Component);\n\nvar condition = function condition(authUser) {\n  return !!authUser;\n};\n\nexport default withAuthorization(condition)(HomePage);","map":{"version":3,"sources":["/Users/yash/instinctiv/instinctiv/src/components/Home/index.js"],"names":["React","Component","AuthUserContext","withAuthorization","Alert","TradingViewWidget","Themes","Table","Autocomplete","stockSearchList","userSearchList","HomePage","state","authUser","balance","props","firebase","db","collection","doc","auth","O","onSnapshot","docSnapshot","console","log","data","setState","username","err","get","then","querySnapshot","forEach","push","LIGHT","condition"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport { AuthUserContext, withAuthorization } from '../Session';\nimport { Alert } from 'reactstrap';\nimport TradingViewWidget, { Themes } from 'react-tradingview-widget'\nimport { Table } from 'reactstrap';\nimport './home.css';\nimport 'react-autocomplete-input/dist/bundle.css'\nimport Autocomplete from \"./Autocomplete\"\n\n/* \nconst SYMBOL = '01. symbol'\nconst OPEN_PRICE = '02. open'\nconst HIGH_PRICE = '03. high'\nconst LOW_PRICE = '04. low' \nconst CURRENT_PRICE = '05. price'\n\n\nvar stocksList = [\n  {ticker:'AAPL', price: ''},\n  {ticker:'MSFT', price: ''},\n  {ticker:'TSLA', price: ''},\n  {ticker:'FB', price: ''},\n  {ticker:'NFLX', price: ''}\n];*/\n\nvar stockSearchList = []\nvar userSearchList = []\n\n//var alphaKey = '2U48DC45SZ4PJT3U'\n\n/* async function getStockPrices() {\n  for (var stock of stocksList) {\n    //Comment out for actual values\n    // var alphaURL = 'https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol='+stock.ticker+'&apikey='+alphaKey;\n\n    //Comment out for dummy values\n    var alphaURL = 'https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=MSFT&apikey=demo'\n\n    stock.price = await fetch(alphaURL).then(\n      response => response.json()).then(\n        data => {\n          return data['Global Quote'][CURRENT_PRICE];\n        }\n    )\n    stock.ticker = await fetch(alphaURL).then(\n      response => response.json()).then(\n        data => {\n          return data['Global Quote'][SYMBOL];\n        }\n    )\n    console.log(stock.price);\n    console.log(stocksList);\n  }\n} */\n\nclass HomePage extends Component {\n  \n  constructor(){\n    super();\n    this.state = {\n      authUser: null,\n      balance: '',\n\n    }\n    //this.handleChange = this.handleChange.bind(this);\n    //this.handleSubmitStock = this.handleSubmitStock.bind(this);\n  }\n\n  async componentDidMount() {\n    stockSearchList = []\n    userSearchList = []\n    this.props.firebase.db.collection(\"Users\").doc(this.props.firebase.auth.O).onSnapshot(docSnapshot => {\n      console.log(`Received doc snapshot: docSnapshot`, docSnapshot.data());\n      this.setState({\n        balance: docSnapshot.data().balance,\n        username: docSnapshot.data().username\n      });      // ...\n    }, err => {\n      console.log(`Encountered error: ${err}`);\n    });\n\n    await this.props.firebase.db.collection(\"Stocks\").get().then(function(querySnapshot) {\n      querySnapshot.forEach(function(doc) {\n          // doc.data() is never undefined for query doc snapshots\n          stockSearchList.push(doc.data()['ticker'] + \": \" + doc.data()['name'])\n      });\n    });\n\n    await this.props.firebase.db.collection(\"Users\").get().then(function(querySnapshot) {\n      querySnapshot.forEach(function(doc) {\n          // doc.data() is never undefined for query doc snapshots\n          userSearchList.push(doc.data()['username']);\n      });\n    });\n  }\n\n\n  render() {\n    return (\n      <AuthUserContext.Consumer>\n      {authUser => (\n      <div>\n\n        <div className=\"home-page\">\n          <h1>Welcome to Instinctiv, {this.state.username}</h1>\n\n          <p>The Home Page is accessible by every signed in user.</p>\n            <div className=\"row\">\n                <div className=\"column small-centered small-11 medium-6 large-5\">\n                  <Autocomplete suggestions={stockSearchList} userSuggestions={userSearchList} />\n\n              <div className=\"float-center\">\n              <Alert color=\"primary\">\n                Token Balance: {this.state.balance}\n              </Alert>\n                </div>\n            </div>\n          </div>\n        </div>\n            <div className=\"float-right\">\n\n                <h3>Favorites</h3>\n\n              <Table stripped>\n                <thead>\n                  <tr>\n                    <th>Ticker</th>\n                    <th>Price</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr>\n                    <td>stock</td>\n                    <td>price</td>\n                  </tr>\n                  <tr>\n                    <td>stock</td>\n                    <td>price</td>\n                  </tr>\n                  <tr>\n                    <td>stock</td>\n                    <td>price</td>\n                  </tr>\n                  <tr>\n                    <td>stock</td>\n                    <td>price</td>\n                  </tr>\n                  <tr>\n                    <td>stock</td>\n                    <td>price</td>\n                  </tr>\n                </tbody>\n              </Table>\n            </div>\n\n            <div className=\"float-left\">\n              <h3>Leaderboard</h3>\n              <Table stripped>\n                <thead>\n                  <tr>\n                    <th>User</th>\n                    <th>Score</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr>\n                    <td>Alpha</td>\n                    <td>95.33%</td>\n                  </tr>\n                  <tr>\n                    <td>Beta</td>\n                    <td>92.1%</td>\n                  </tr>\n                  <tr>\n                    <td>Gamma</td>\n                    <td>75.66%</td>\n                  </tr>\n                  <tr>\n                    <td>Delta</td>\n                    <td>72.54%</td>\n                  </tr>\n                  <tr>\n                    <td>Epsilon</td>\n                    <td>56.5%</td>\n                  </tr>\n                </tbody>\n              </Table>\n            </div>\n            <div className=\"stock-chart\">\n              <TradingViewWidget\n                symbol=\"AMZN\"\n                theme={Themes.LIGHT}\n                locale=\"en\"\n              />\n\n            </div>\n            <div id=\"news\">\n\n            </div>\n        </div>\n      )}\n      </AuthUserContext.Consumer>\n    );\n\n  }\n\n}\n\nconst condition = authUser => !!authUser;\n\nexport default withAuthorization(condition)(HomePage);\n"]},"metadata":{},"sourceType":"module"}