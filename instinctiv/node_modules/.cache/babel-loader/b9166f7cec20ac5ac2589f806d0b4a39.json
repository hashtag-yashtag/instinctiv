{"ast":null,"code":"module.exports = function (e) {\n  function t(r) {\n    if (n[r]) return n[r].exports;\n    var o = n[r] = {\n      i: r,\n      l: !1,\n      exports: {}\n    };\n    return e[r].call(o.exports, o, o.exports, t), o.l = !0, o.exports;\n  }\n\n  var n = {};\n  return t.m = e, t.c = n, t.d = function (e, n, r) {\n    t.o(e, n) || Object.defineProperty(e, n, {\n      configurable: !1,\n      enumerable: !0,\n      get: r\n    });\n  }, t.n = function (e) {\n    var n = e && e.__esModule ? function () {\n      return e.default;\n    } : function () {\n      return e;\n    };\n    return t.d(n, \"a\", n), n;\n  }, t.o = function (e, t) {\n    return Object.prototype.hasOwnProperty.call(e, t);\n  }, t.p = \"\", t(t.s = 0);\n}([function (e, t, n) {\n  e.exports = n(1);\n}, function (e, t, n) {\n  \"use strict\";\n\n  function r() {\n    return r = Object.assign || function (e) {\n      for (var t = 1; t < arguments.length; t++) {\n        var n = arguments[t];\n\n        for (var r in n) {\n          Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);\n        }\n      }\n\n      return e;\n    }, r.apply(this, arguments);\n  }\n\n  function o(e, t) {\n    if (null == e) return {};\n    var n,\n        r,\n        o = a(e, t);\n\n    if (Object.getOwnPropertySymbols) {\n      var i = Object.getOwnPropertySymbols(e);\n\n      for (r = 0; r < i.length; r++) {\n        n = i[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n]);\n      }\n    }\n\n    return o;\n  }\n\n  function a(e, t) {\n    if (null == e) return {};\n    var n,\n        r,\n        o = {},\n        a = Object.keys(e);\n\n    for (r = 0; r < a.length; r++) {\n      n = a[r], t.indexOf(n) >= 0 || (o[n] = e[n]);\n    }\n\n    return o;\n  }\n\n  function i(e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var n = null != arguments[t] ? arguments[t] : {},\n          r = Object.keys(n);\n      \"function\" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {\n        return Object.getOwnPropertyDescriptor(n, e).enumerable;\n      }))), r.forEach(function (t) {\n        s(e, t, n[t]);\n      });\n    }\n\n    return e;\n  }\n\n  function s(e, t, n) {\n    return t in e ? Object.defineProperty(e, t, {\n      value: n,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }) : e[t] = n, e;\n  }\n\n  function l(e) {\n    return (l = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n      return typeof e;\n    } : function (e) {\n      return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n    })(e);\n  }\n\n  function u(e, t) {\n    if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n  }\n\n  function c(e, t) {\n    for (var n = 0; n < t.length; n++) {\n      var r = t[n];\n      r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n    }\n  }\n\n  function f(e, t, n) {\n    return t && c(e.prototype, t), n && c(e, n), e;\n  }\n\n  function p(e, t) {\n    return !t || \"object\" !== l(t) && \"function\" != typeof t ? d(e) : t;\n  }\n\n  function h(e) {\n    return (h = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n      return e.__proto__ || Object.getPrototypeOf(e);\n    })(e);\n  }\n\n  function g(e, t) {\n    if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n    e.prototype = Object.create(t && t.prototype, {\n      constructor: {\n        value: e,\n        writable: !0,\n        configurable: !0\n      }\n    }), t && b(e, t);\n  }\n\n  function b(e, t) {\n    return (b = Object.setPrototypeOf || function (e, t) {\n      return e.__proto__ = t, e;\n    })(e, t);\n  }\n\n  function d(e) {\n    if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    return e;\n  }\n\n  Object.defineProperty(t, \"__esModule\", {\n    value: !0\n  });\n\n  var v = n(2),\n      y = n.n(v),\n      m = n(3),\n      O = n.n(m),\n      w = n(4),\n      S = (n.n(w), n(5)),\n      C = n.n(S),\n      j = n(6),\n      x = n.n(j),\n      k = n(7),\n      P = (n.n(k), {\n    Component: O.a.oneOfType([O.a.string, O.a.func]),\n    defaultValue: O.a.string,\n    disabled: O.a.bool,\n    maxOptions: O.a.number,\n    onBlur: O.a.func,\n    onChange: O.a.func,\n    onKeyDown: O.a.func,\n    onRequestOptions: O.a.func,\n    options: O.a.arrayOf(O.a.string),\n    regex: O.a.string,\n    matchAny: O.a.bool,\n    minChars: O.a.number,\n    requestOnlyIfNoOptions: O.a.bool,\n    spaceRemovers: O.a.arrayOf(O.a.string),\n    spacer: O.a.string,\n    trigger: O.a.string,\n    value: O.a.string,\n    offsetX: O.a.number,\n    offsetY: O.a.number\n  }),\n      L = {\n    Component: \"textarea\",\n    defaultValue: \"\",\n    disabled: !1,\n    maxOptions: 6,\n    onBlur: function onBlur() {},\n    onChange: function onChange() {},\n    onKeyDown: function onKeyDown() {},\n    onRequestOptions: function onRequestOptions() {},\n    options: [],\n    regex: \"^[A-Za-z0-9\\\\-_]+$\",\n    matchAny: !1,\n    minChars: 0,\n    requestOnlyIfNoOptions: !0,\n    spaceRemovers: [\",\", \".\", \"!\", \"?\"],\n    spacer: \" \",\n    trigger: \"@\",\n    offsetX: 0,\n    offsetY: 0,\n    value: null\n  },\n      R = function (e) {\n    function t(e) {\n      var n;\n      return u(this, t), n = p(this, h(t).call(this, e)), n.isTrigger = n.isTrigger.bind(d(d(n))), n.getMatch = n.getMatch.bind(d(d(n))), n.handleChange = n.handleChange.bind(d(d(n))), n.handleKeyDown = n.handleKeyDown.bind(d(d(n))), n.handleResize = n.handleResize.bind(d(d(n))), n.handleSelection = n.handleSelection.bind(d(d(n))), n.updateCaretPosition = n.updateCaretPosition.bind(d(d(n))), n.updateHelper = n.updateHelper.bind(d(d(n))), n.resetHelper = n.resetHelper.bind(d(d(n))), n.renderAutocompleteList = n.renderAutocompleteList.bind(d(d(n))), n.state = {\n        helperVisible: !1,\n        left: 0,\n        matchLength: 0,\n        matchStart: 0,\n        options: [],\n        selection: 0,\n        top: 0,\n        value: null\n      }, n.recentValue = e.defaultValue, n.enableSpaceRemovers = !1, n;\n    }\n\n    return g(t, e), f(t, [{\n      key: \"componentDidMount\",\n      value: function value() {\n        window.addEventListener(\"resize\", this.handleResize);\n      }\n    }, {\n      key: \"componentWillReceiveProps\",\n      value: function value(e) {\n        var t = this.props.options,\n            n = this.state.caret;\n        t.length !== e.options.length && this.updateHelper(this.recentValue, n, e.options);\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function value() {\n        window.removeEventListener(\"resize\", this.handleResize);\n      }\n    }, {\n      key: \"getMatch\",\n      value: function value(e, t, n) {\n        for (var r = this.props, o = r.trigger, a = r.matchAny, i = r.regex, s = new RegExp(i), u = o.length, c = o.match(s), f = t - 1; f >= 0; --f) {\n          var p = e.substring(f, t),\n              h = p.match(s),\n              g = -1;\n\n          if (u > 0) {\n            var b = c ? f : f - u + 1;\n            if (b < 0) return null;\n            if (this.isTrigger(e, b) && (g = b + u), !h && g < 0) return null;\n          } else {\n            if (h && f > 0) continue;\n            if (g = 0 === f && h ? 0 : f + 1, t - g == 0) return null;\n          }\n\n          if (g >= 0) {\n            var d = function () {\n              var r = e.substring(g, t),\n                  o = n.filter(function (e) {\n                var t = e.toLowerCase().indexOf(r);\n                return -1 !== t && (a || 0 === t);\n              }),\n                  i = r.length;\n              return {\n                v: {\n                  matchStart: g,\n                  matchLength: i,\n                  options: o\n                }\n              };\n            }();\n\n            if (\"object\" === l(d)) return d.v;\n          }\n        }\n\n        return null;\n      }\n    }, {\n      key: \"isTrigger\",\n      value: function value(e, t) {\n        var n = this.props.trigger;\n        return !n || !n.length || e.substr(t, n.length) === n;\n      }\n    }, {\n      key: \"handleChange\",\n      value: function value(e) {\n        var t = this.props,\n            n = t.onChange,\n            r = t.options,\n            o = t.spaceRemovers,\n            a = t.spacer,\n            i = t.value,\n            s = this.recentValue,\n            l = e.target.value,\n            u = x()(e.target).end;\n        if (l.length || this.setState({\n          helperVisible: !1\n        }), this.recentValue = l, this.setState({\n          caret: u,\n          value: e.target.value\n        }), !l.length || !u) return n(e.target.value);\n\n        if (this.enableSpaceRemovers && o.length && l.length > 2 && a.length) {\n          for (var c = 0; c < Math.max(s.length, l.length); ++c) {\n            if (s[c] !== l[c]) {\n              if (c >= 2 && l[c - 1] === a && -1 === o.indexOf(l[c - 2]) && -1 !== o.indexOf(l[c]) && this.getMatch(l.substring(0, c - 2).toLowerCase(), u - 3, r)) {\n                var f = \"\".concat(l.slice(0, c - 1)).concat(l.slice(c, c + 1)).concat(l.slice(c - 1, c)).concat(l.slice(c + 1));\n                return this.updateCaretPosition(c + 1), Object(w.findDOMNode)(this.refInput).value = f, i || this.setState({\n                  value: f\n                }), n(f);\n              }\n\n              break;\n            }\n          }\n\n          this.enableSpaceRemovers = !1;\n        }\n\n        return this.updateHelper(l, u, r), i || this.setState({\n          value: e.target.value\n        }), n(e.target.value);\n      }\n    }, {\n      key: \"handleKeyDown\",\n      value: function value(e) {\n        var t = this.state,\n            n = t.helperVisible,\n            r = t.options,\n            o = t.selection,\n            a = this.props.onKeyDown;\n        if (n) switch (e.keyCode) {\n          case 27:\n            e.preventDefault(), this.resetHelper();\n            break;\n\n          case 38:\n            e.preventDefault(), this.setState({\n              selection: (r.length + o - 1) % r.length\n            });\n            break;\n\n          case 40:\n            e.preventDefault(), this.setState({\n              selection: (o + 1) % r.length\n            });\n            break;\n\n          case 14:\n          case 13:\n            e.preventDefault(), this.handleSelection(o);\n            break;\n\n          default:\n            a(e);\n        } else a(e);\n      }\n    }, {\n      key: \"handleResize\",\n      value: function value() {\n        this.setState({\n          helperVisible: !1\n        });\n      }\n    }, {\n      key: \"handleSelection\",\n      value: function value(e) {\n        var t = this.state,\n            n = t.matchStart,\n            r = t.matchLength,\n            o = t.options,\n            a = this.props.spacer,\n            i = o[e],\n            s = this.recentValue,\n            l = s.substring(0, n),\n            u = s.substring(n + r),\n            c = {\n          target: Object(w.findDOMNode)(this.refInput)\n        };\n        c.target.value = \"\".concat(l).concat(i).concat(a).concat(u), this.handleChange(c), this.resetHelper(), this.updateCaretPosition(l.length + i.length + 1), this.enableSpaceRemovers = !0;\n      }\n    }, {\n      key: \"updateCaretPosition\",\n      value: function value(e) {\n        var t = this;\n        this.setState({\n          caret: e\n        }, function () {\n          return Object(j.setCaretPosition)(Object(w.findDOMNode)(t.refInput), e);\n        });\n      }\n    }, {\n      key: \"updateHelper\",\n      value: function value(e, t, n) {\n        var r = Object(w.findDOMNode)(this.refInput),\n            o = this.getMatch(e.toLowerCase(), t, n);\n\n        if (o) {\n          var a = C()(r, t),\n              s = r.getBoundingClientRect(),\n              l = a.top + r.offsetTop,\n              u = Math.min(a.left + r.offsetLeft - 10, r.offsetLeft + s.width - 100),\n              c = this.props,\n              f = c.minChars,\n              p = c.onRequestOptions,\n              h = c.requestOnlyIfNoOptions;\n          o.matchLength >= f && (o.options.length > 1 || 1 === o.options.length && o.options[0].length !== o.matchLength) ? this.setState(i({\n            helperVisible: !0,\n            top: l,\n            left: u\n          }, o)) : (h && o.options.length || p(e.substr(o.matchStart, o.matchLength)), this.resetHelper());\n        } else this.resetHelper();\n      }\n    }, {\n      key: \"resetHelper\",\n      value: function value() {\n        this.setState({\n          helperVisible: !1,\n          selection: 0\n        });\n      }\n    }, {\n      key: \"renderAutocompleteList\",\n      value: function value() {\n        var e = this,\n            t = this.state,\n            n = t.helperVisible,\n            r = t.left,\n            o = t.matchStart,\n            a = t.matchLength,\n            i = t.options,\n            s = t.selection,\n            l = t.top,\n            u = t.value;\n        if (!n) return null;\n        var c = this.props,\n            f = c.maxOptions,\n            p = c.offsetX,\n            h = c.offsetY;\n        if (0 === i.length) return null;\n        if (s >= i.length) return this.setState({\n          selection: 0\n        }), null;\n        var g = 0 === f ? i.length : f,\n            b = i.slice(0, g).map(function (t, n) {\n          var r = t.toLowerCase().indexOf(u.substr(o, a).toLowerCase());\n          return y.a.createElement(\"li\", {\n            className: n === s ? \"active\" : null,\n            key: t,\n            onClick: function onClick() {\n              e.handleSelection(n);\n            },\n            onMouseEnter: function onMouseEnter() {\n              e.setState({\n                selection: n\n              });\n            }\n          }, t.slice(0, r), y.a.createElement(\"strong\", null, t.substr(r, a)), t.slice(r + a));\n        });\n        return y.a.createElement(\"ul\", {\n          className: \"react-autocomplete-input\",\n          style: {\n            left: r + p,\n            top: l + h\n          }\n        }, b);\n      }\n    }, {\n      key: \"render\",\n      value: function value() {\n        var e = this,\n            t = this.props,\n            n = t.Component,\n            a = t.defaultValue,\n            i = t.disabled,\n            s = t.onBlur,\n            l = t.value,\n            u = o(t, [\"Component\", \"defaultValue\", \"disabled\", \"onBlur\", \"value\"]),\n            c = this.state.value,\n            f = Object.assign({}, u);\n        Object.keys(this.constructor.propTypes).forEach(function (e) {\n          delete f[e];\n        });\n        var p = \"\";\n        return void 0 !== l && null !== l ? p = l : c ? p = c : a && (p = a), y.a.createElement(\"span\", null, y.a.createElement(n, r({\n          disabled: i,\n          onBlur: s,\n          onChange: this.handleChange,\n          onKeyDown: this.handleKeyDown,\n          ref: function ref(t) {\n            e.refInput = t;\n          },\n          value: p\n        }, f)), this.renderAutocompleteList());\n      }\n    }]), t;\n  }(y.a.Component);\n\n  R.propTypes = P, R.defaultProps = L, t.default = R;\n}, function (e, t) {\n  e.exports = require(\"react\");\n}, function (e, t) {\n  e.exports = require(\"prop-types\");\n}, function (e, t) {\n  e.exports = require(\"react-dom\");\n}, function (e, t) {\n  e.exports = require(\"textarea-caret\");\n}, function (e, t) {\n  e.exports = require(\"get-input-selection\");\n}, function (e, t) {}]);","map":null,"metadata":{},"sourceType":"script"}