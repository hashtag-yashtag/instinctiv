{"ast":null,"code":"import _regeneratorRuntime from \"/Users/yash/instinctiv/instinctiv/node_modules/@babel/runtime/regenerator\";\nimport _classCallCheck from \"/Users/yash/instinctiv/instinctiv/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/yash/instinctiv/instinctiv/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/yash/instinctiv/instinctiv/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/yash/instinctiv/instinctiv/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/yash/instinctiv/instinctiv/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _asyncToGenerator from \"/Users/yash/instinctiv/instinctiv/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/Users/yash/instinctiv/instinctiv/src/components/Home/index.js\";\nimport React, { Component } from 'react';\nimport { AuthUserContext, withAuthorization } from '../Session';\nimport { Alert, Label, Input } from 'reactstrap';\nimport TradingViewWidget, { Themes } from 'react-tradingview-widget';\nimport { Table } from 'reactstrap';\nimport { Collapse, Button, CardBody, Card } from 'reactstrap';\nimport './home.css';\nimport { render } from 'react-dom';\nvar SYMBOL = '01. symbol';\nvar OPEN_PRICE = '02. open';\nvar HIGH_PRICE = '03. high';\nvar LOW_PRICE = '04. low';\nvar CURRENT_PRICE = '05. price';\nvar stocksList = [{\n  ticker: 'AAPL',\n  price: ''\n}, {\n  ticker: 'MSFT',\n  price: ''\n}, {\n  ticker: 'TSLA',\n  price: ''\n}, {\n  ticker: 'FB',\n  price: ''\n}, {\n  ticker: 'NFLX',\n  price: ''\n}];\nvar alphaKey = '2U48DC45SZ4PJT3U';\n\nfunction getStockPrices() {\n  return _getStockPrices.apply(this, arguments);\n}\n\nfunction _getStockPrices() {\n  _getStockPrices = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee2() {\n    var _i, stock, alphaURL;\n\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _i = 0;\n\n          case 1:\n            if (!(_i < stocksList.length)) {\n              _context2.next = 11;\n              break;\n            }\n\n            stock = stocksList[_i];\n            //Comment out for actual values\n            //var alphaURL = 'https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol='+stock.ticker+'&apikey='+alphaKey;\n            //Comment out for dummy values\n            alphaURL = 'https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=MSFT&apikey=demo';\n            _context2.next = 6;\n            return fetch(alphaURL).then(function (response) {\n              return response.json();\n            }).then(function (data) {\n              console.log(data);\n              return data['Global Quote'][CURRENT_PRICE];\n            });\n\n          case 6:\n            stock.price = _context2.sent;\n            console.log(stock.price); //console.log(stocksList);\n\n          case 8:\n            _i++;\n            _context2.next = 1;\n            break;\n\n          case 11:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n  return _getStockPrices.apply(this, arguments);\n}\n\nfunction viewNews() {\n  var url = 'https://newsapi.org/v2/top-headlines?' + 'country=us&category=business' + '&apiKey=34c665fbab834d7c80356f0bf458b1a7';\n  fetch(url).then(function (response) {\n    return response.json();\n  }).then(function (data) {\n    console.log(data);\n\n    for (var i = 0; i < data.articles.length; i++) {\n      var title = data.articles[i].title;\n\n      if (title == null) {\n        title = \"\";\n      }\n\n      var desc = data.articles[i].description;\n      var auth = data.articles[i].author;\n      var link = data.articles[i].url;\n      var link1 = data.articles[i].urlToImage;\n      var date = data.articles[i].publishedAt;\n      document.getElementById('root').append('<div class=\"item\"><h2>' + title + '</h2>' + //character of escape: \"quotes\" and '+'\n      '<img src=\"' + link1 + '\">' + '<p class=\"publishedAt\">' + date + '</p>' + '<p>' + desc + '</p>' + '<p>' + auth + '</p>' + //character of escape: \"quotes\" and '+'\n      '<a href=\"' + link + '\">Read more</a></div>');\n    }\n  });\n}\n\nvar HomePage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(HomePage, _Component);\n\n  function HomePage() {\n    var _this;\n\n    _classCallCheck(this, HomePage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HomePage).call(this));\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n      var stock = document.getElementById('stock').value;\n      var tokens = document.getElementById('tokens').value;\n\n      if (_this.state.balance - tokens > 0) {\n        console.log(_this.props.firebase.auth.O);\n\n        var userDoc = _this.props.firebase.db.collection(\"Users\").doc(_this.props.firebase.auth.O);\n\n        userDoc.set({\n          balance: _this.state.balance - tokens\n        }, {\n          merge: true\n        });\n        userDoc.collection(\"Bets\").add({\n          stockId: stock,\n          bet: tokens\n        });\n      }\n\n      _this.props.firebase.db.collection(\"Users\").doc(_this.props.firebase.auth.O).get().then(function (data) {\n        _this.setState({\n          data: data\n        });\n\n        console.log(data.data().balance);\n\n        _this.setState({\n          balance: data.data().balance\n        });\n      });\n    };\n\n    _this.state = {\n      authUser: null,\n      balance: '' //this.handleChange = this.handleChange.bind(this);\n      //this.handleSubmitStock = this.handleSubmitStock.bind(this);\n\n    };\n    return _this;\n  }\n\n  _createClass(HomePage, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var _this2 = this;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                viewNews();\n                _context.next = 3;\n                return getStockPrices();\n\n              case 3:\n                this.props.firebase.db.collection(\"Users\").doc(this.props.firebase.auth.O).get().then(function (data) {\n                  _this2.setState({\n                    data: data\n                  });\n\n                  console.log(data.data());\n\n                  _this2.setState({\n                    balance: data.data().balance,\n                    username: data.data().username\n                  });\n                });\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(AuthUserContext.Consumer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, function (authUser) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"home-page\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145\n          },\n          __self: this\n        }, \"Welcome to Instinctiv, \", _this3.state.username), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146\n          },\n          __self: this\n        }, \"The Home Page is accessible by every signed in user.\"), React.createElement(\"input\", {\n          type: \"text\",\n          className: \"input\",\n          placeholder: \"Search...\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"float-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        }, React.createElement(Alert, {\n          color: \"primary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, \"Token Balance: \", _this3.state.balance), React.createElement(\"form\", {\n          onSubmit: _this3.handleSubmit,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153\n          },\n          __self: this\n        }, React.createElement(Label, {\n          for: \"Stock\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        }, \"Stock\"), React.createElement(Input, {\n          type: \"text\",\n          name: \"StockID\",\n          id: \"stock\",\n          placeholder: \"Enter a Stock ID\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155\n          },\n          __self: this\n        }), React.createElement(Input, {\n          type: \"number\",\n          name: \"tokens\",\n          id: \"tokens\",\n          placeholder: \"Enter a amount to bet\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156\n          },\n          __self: this\n        }), React.createElement(Button, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157\n          },\n          __self: this\n        }, \"Submit\"))), React.createElement(\"div\", {\n          className: \"float-right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162\n          },\n          __self: this\n        }, \"Favorites\"), React.createElement(Table, {\n          stripped: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164\n          },\n          __self: this\n        }, React.createElement(\"thead\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165\n          },\n          __self: this\n        }, React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166\n          },\n          __self: this\n        }, React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167\n          },\n          __self: this\n        }, \"Ticker\"), React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168\n          },\n          __self: this\n        }, \"Price\"))), React.createElement(\"tbody\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 171\n          },\n          __self: this\n        }, React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173\n          },\n          __self: this\n        }, stocksList[0].ticker), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174\n          },\n          __self: this\n        }, stocksList[0].price)), React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177\n          },\n          __self: this\n        }, stocksList[1].ticker), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178\n          },\n          __self: this\n        }, stocksList[1].price)), React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 180\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 181\n          },\n          __self: this\n        }, stocksList[2].ticker), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182\n          },\n          __self: this\n        }, stocksList[2].price)), React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 185\n          },\n          __self: this\n        }, stocksList[3].ticker), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186\n          },\n          __self: this\n        }, stocksList[3].price)), React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 189\n          },\n          __self: this\n        }, stocksList[4].ticker), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190\n          },\n          __self: this\n        }, stocksList[4].price))))), React.createElement(\"div\", {\n          className: \"float-left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 197\n          },\n          __self: this\n        }, \"Leaderboard\"), React.createElement(Table, {\n          stripped: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 198\n          },\n          __self: this\n        }, React.createElement(\"thead\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 199\n          },\n          __self: this\n        }, React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200\n          },\n          __self: this\n        }, React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 201\n          },\n          __self: this\n        }, \"User\"), React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202\n          },\n          __self: this\n        }, \"Score\"))), React.createElement(\"tbody\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 205\n          },\n          __self: this\n        }, React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 206\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 207\n          },\n          __self: this\n        }, \"Alpha\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 208\n          },\n          __self: this\n        }, \"95.33%\")), React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 210\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211\n          },\n          __self: this\n        }, \"Beta\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 212\n          },\n          __self: this\n        }, \"92.1%\")), React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 214\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 215\n          },\n          __self: this\n        }, \"Gamma\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216\n          },\n          __self: this\n        }, \"75.66%\")), React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219\n          },\n          __self: this\n        }, \"Delta\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 220\n          },\n          __self: this\n        }, \"72.54%\")), React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 222\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 223\n          },\n          __self: this\n        }, \"Epsilon\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 224\n          },\n          __self: this\n        }, \"56.5%\"))))), React.createElement(\"div\", {\n          className: \"stock-chart\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 229\n          },\n          __self: this\n        }, React.createElement(TradingViewWidget, {\n          symbol: \"NASDAQ:AAPL\",\n          theme: Themes.LIGHT,\n          locale: \"en\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 230\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          id: \"news\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 237\n          },\n          __self: this\n        }));\n      });\n    }\n  }]);\n\n  return HomePage;\n}(Component);\n\nvar condition = function condition(authUser) {\n  return !!authUser;\n};\n\nexport default withAuthorization(condition)(HomePage);","map":{"version":3,"sources":["/Users/yash/instinctiv/instinctiv/src/components/Home/index.js"],"names":["React","Component","AuthUserContext","withAuthorization","Alert","Label","Input","TradingViewWidget","Themes","Table","Collapse","Button","CardBody","Card","render","SYMBOL","OPEN_PRICE","HIGH_PRICE","LOW_PRICE","CURRENT_PRICE","stocksList","ticker","price","alphaKey","getStockPrices","stock","alphaURL","fetch","then","response","json","data","console","log","viewNews","url","i","articles","length","title","desc","description","auth","author","link","link1","urlToImage","date","publishedAt","document","getElementById","append","HomePage","handleSubmit","e","preventDefault","value","tokens","state","balance","props","firebase","O","userDoc","db","collection","doc","set","merge","add","stockId","bet","get","setState","authUser","username","LIGHT","condition"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,SAASC,eAAT,EAA0BC,iBAA1B,QAAmD,YAAnD;AACA,SAASC,KAAT,EAAgBC,KAAhB,EAAuBC,KAAvB,QAAoC,YAApC;AACA,OAAOC,iBAAP,IAA4BC,MAA5B,QAA0C,0BAA1C;AACA,SAASC,KAAT,QAAsB,YAAtB;AACA,SAASC,QAAT,EAAmBC,MAAnB,EAA2BC,QAA3B,EAAqCC,IAArC,QAAiD,YAAjD;AACA,OAAO,YAAP;AACA,SAASC,MAAT,QAAuB,WAAvB;AAEA,IAAMC,MAAM,GAAG,YAAf;AACA,IAAMC,UAAU,GAAG,UAAnB;AACA,IAAMC,UAAU,GAAG,UAAnB;AACA,IAAMC,SAAS,GAAG,SAAlB;AACA,IAAMC,aAAa,GAAG,WAAtB;AAEA,IAAIC,UAAU,GAAG,CACf;AAACC,EAAAA,MAAM,EAAC,MAAR;AAAgBC,EAAAA,KAAK,EAAE;AAAvB,CADe,EAEf;AAACD,EAAAA,MAAM,EAAC,MAAR;AAAgBC,EAAAA,KAAK,EAAE;AAAvB,CAFe,EAGf;AAACD,EAAAA,MAAM,EAAC,MAAR;AAAgBC,EAAAA,KAAK,EAAE;AAAvB,CAHe,EAIf;AAACD,EAAAA,MAAM,EAAC,IAAR;AAAcC,EAAAA,KAAK,EAAE;AAArB,CAJe,EAKf;AAACD,EAAAA,MAAM,EAAC,MAAR;AAAgBC,EAAAA,KAAK,EAAE;AAAvB,CALe,CAAjB;AAQA,IAAIC,QAAQ,GAAG,kBAAf;;SAEeC,c;;;;;;;2BAAf;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBACoBJ,UADpB;AAAA;AAAA;AAAA;;AACWK,YAAAA,KADX,GACoBL,UADpB;AAEI;AACA;AAEA;AACIM,YAAAA,QANR,GAMmB,iFANnB;AAAA;AAAA,mBAQwBC,KAAK,CAACD,QAAD,CAAL,CAAgBE,IAAhB,CAClB,UAAAC,QAAQ;AAAA,qBAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,aADU,EACWF,IADX,CAEhB,UAAAG,IAAI,EAAI;AACNC,cAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACA,qBAAOA,IAAI,CAAC,cAAD,CAAJ,CAAqBZ,aAArB,CAAP;AACD,aALe,CARxB;;AAAA;AAQIM,YAAAA,KAAK,CAACH,KARV;AAeIU,YAAAA,OAAO,CAACC,GAAR,CAAYR,KAAK,CAACH,KAAlB,EAfJ,CAgBI;;AAhBJ;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAoBA,SAASY,QAAT,GAAoB;AAElB,MAAIC,GAAG,GAAG,0CACA,8BADA,GAGA,0CAHV;AAKAR,EAAAA,KAAK,CAACQ,GAAD,CAAL,CACGP,IADH,CACQ,UAAAC,QAAQ;AAAA,WAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,GADhB,EAEGF,IAFH,CAEQ,UAAAG,IAAI,EAAI;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;;AAEF,SAAI,IAAIK,CAAC,GAAC,CAAV,EAAaA,CAAC,GAAGL,IAAI,CAACM,QAAL,CAAcC,MAA/B,EAAuCF,CAAC,EAAxC,EAA2C;AAEzC,UAAIG,KAAK,GAAGR,IAAI,CAACM,QAAL,CAAcD,CAAd,EAAiBG,KAA7B;;AAEA,UAAGA,KAAK,IAAI,IAAZ,EAAiB;AACfA,QAAAA,KAAK,GAAE,EAAP;AACD;;AACD,UAAIC,IAAI,GAAGT,IAAI,CAACM,QAAL,CAAcD,CAAd,EAAiBK,WAA5B;AACA,UAAIC,IAAI,GAAGX,IAAI,CAACM,QAAL,CAAcD,CAAd,EAAiBO,MAA5B;AACA,UAAIC,IAAI,GAAGb,IAAI,CAACM,QAAL,CAAcD,CAAd,EAAiBD,GAA5B;AACA,UAAIU,KAAK,GAAGd,IAAI,CAACM,QAAL,CAAcD,CAAd,EAAiBU,UAA7B;AACA,UAAIC,IAAI,GAAGhB,IAAI,CAACM,QAAL,CAAcD,CAAd,EAAiBY,WAA5B;AAIFC,MAAAA,QAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCC,MAAhC,CAAuC,2BAA2BZ,KAA3B,GAAmC,OAAnC,GAC5B;AACT,kBAFqC,GAEtBM,KAFsB,GAEf,IAFe,GAGrC,yBAHqC,GAGTE,IAHS,GAGF,MAHE,GAIrC,KAJqC,GAI7BP,IAJ6B,GAItB,MAJsB,GAKrC,KALqC,GAK7BE,IAL6B,GAKtB,MALsB,GAM5B;AACT,iBAPqC,GAOxBE,IAPwB,GAOlB,uBAPrB;AASG;AACJ,GA9BD;AA+BD;;IAGKQ,Q;;;;;AACJ,sBAAa;AAAA;;AAAA;;AACX;;AADW,UAwBbC,YAxBa,GAwBE,UAAAC,CAAC,EAAI;AAClBA,MAAAA,CAAC,CAACC,cAAF;AACA,UAAI9B,KAAK,GAAGwB,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCM,KAA7C;AACA,UAAIC,MAAM,GAAGR,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAkCM,KAA/C;;AACA,UAAG,MAAKE,KAAL,CAAWC,OAAX,GAAmBF,MAAnB,GAA6B,CAAhC,EAAkC;AAChCzB,QAAAA,OAAO,CAACC,GAAR,CAAY,MAAK2B,KAAL,CAAWC,QAAX,CAAoBnB,IAApB,CAAyBoB,CAArC;;AACA,YAAIC,OAAO,GAAG,MAAKH,KAAL,CAAWC,QAAX,CAAoBG,EAApB,CAAuBC,UAAvB,CAAkC,OAAlC,EAA2CC,GAA3C,CAA+C,MAAKN,KAAL,CAAWC,QAAX,CAAoBnB,IAApB,CAAyBoB,CAAxE,CAAd;;AACAC,QAAAA,OAAO,CAACI,GAAR,CAAY;AACVR,UAAAA,OAAO,EAAG,MAAKD,KAAL,CAAWC,OAAX,GAAmBF;AADnB,SAAZ,EAEG;AAACW,UAAAA,KAAK,EAAE;AAAR,SAFH;AAGAL,QAAAA,OAAO,CAACE,UAAR,CAAmB,MAAnB,EAA2BI,GAA3B,CAA+B;AAC7BC,UAAAA,OAAO,EAAE7C,KADoB;AAE7B8C,UAAAA,GAAG,EAAEd;AAFwB,SAA/B;AAID;;AACD,YAAKG,KAAL,CAAWC,QAAX,CAAoBG,EAApB,CAAuBC,UAAvB,CAAkC,OAAlC,EAA2CC,GAA3C,CAA+C,MAAKN,KAAL,CAAWC,QAAX,CAAoBnB,IAApB,CAAyBoB,CAAxE,EAA2EU,GAA3E,GAAiF5C,IAAjF,CAAsF,UAAAG,IAAI,EAAI;AAC1F,cAAK0C,QAAL,CAAc;AAAC1C,UAAAA,IAAI,EAAEA;AAAP,SAAd;;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACA,IAAL,GAAY4B,OAAxB;;AACA,cAAKc,QAAL,CAAc;AACZd,UAAAA,OAAO,EAAE5B,IAAI,CAACA,IAAL,GAAY4B;AADT,SAAd;AAGD,OANH;AAQD,KA/CY;;AAEX,UAAKD,KAAL,GAAa;AACXgB,MAAAA,QAAQ,EAAE,IADC;AAEXf,MAAAA,OAAO,EAAE,EAFE,CAKb;AACA;;AANa,KAAb;AAFW;AASZ;;;;;;;;;;;;;;AAGCzB,gBAAAA,QAAQ;;uBACFV,cAAc,E;;;AACpB,qBAAKoC,KAAL,CAAWC,QAAX,CAAoBG,EAApB,CAAuBC,UAAvB,CAAkC,OAAlC,EAA2CC,GAA3C,CAA+C,KAAKN,KAAL,CAAWC,QAAX,CAAoBnB,IAApB,CAAyBoB,CAAxE,EAA2EU,GAA3E,GAAiF5C,IAAjF,CAAsF,UAAAG,IAAI,EAAI;AAC1F,kBAAA,MAAI,CAAC0C,QAAL,CAAc;AAAC1C,oBAAAA,IAAI,EAAEA;AAAP,mBAAd;;AACAC,kBAAAA,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACA,IAAL,EAAZ;;AACA,kBAAA,MAAI,CAAC0C,QAAL,CAAc;AACZd,oBAAAA,OAAO,EAAE5B,IAAI,CAACA,IAAL,GAAY4B,OADT;AAEZgB,oBAAAA,QAAQ,EAAE5C,IAAI,CAACA,IAAL,GAAY4C;AAFV,mBAAd;AAID,iBAPH;;;;;;;;;;;;;;;;;;6BAoCO;AAAA;;AACP,aACE,oBAAC,eAAD,CAAiB,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,UAAAD,QAAQ;AAAA,eACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCAA4B,MAAI,CAAChB,KAAL,CAAWiB,QAAvC,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kEAFF,EAGE;AAAO,UAAA,IAAI,EAAC,MAAZ;AAAmB,UAAA,SAAS,EAAC,OAA7B;AAAqC,UAAA,WAAW,EAAC,WAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAHF,CADF,EAMM;AAAK,UAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,KAAD;AAAO,UAAA,KAAK,EAAC,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BACkB,MAAI,CAACjB,KAAL,CAAWC,OAD7B,CADF,EAIE;AAAM,UAAA,QAAQ,EAAE,MAAI,CAACN,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,KAAD;AAAO,UAAA,GAAG,EAAC,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,EAEE,oBAAC,KAAD;AAAO,UAAA,IAAI,EAAC,MAAZ;AAAmB,UAAA,IAAI,EAAC,SAAxB;AAAkC,UAAA,EAAE,EAAC,OAArC;AAA6C,UAAA,WAAW,EAAC,kBAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFF,EAGE,oBAAC,KAAD;AAAO,UAAA,IAAI,EAAC,QAAZ;AAAqB,UAAA,IAAI,EAAC,QAA1B;AAAmC,UAAA,EAAE,EAAC,QAAtC;AAA+C,UAAA,WAAW,EAAC,uBAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAHF,EAIE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJF,CAJF,CANN,EAiBM;AAAK,UAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAFJ,EAIE,oBAAC,KAAD;AAAO,UAAA,QAAQ,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAFF,CADF,CADF,EAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKjC,UAAU,CAAC,CAAD,CAAV,CAAcC,MAAnB,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKD,UAAU,CAAC,CAAD,CAAV,CAAcE,KAAnB,CAFF,CADF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKF,UAAU,CAAC,CAAD,CAAV,CAAcC,MAAnB,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKD,UAAU,CAAC,CAAD,CAAV,CAAcE,KAAnB,CAFF,CALF,EASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKF,UAAU,CAAC,CAAD,CAAV,CAAcC,MAAnB,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKD,UAAU,CAAC,CAAD,CAAV,CAAcE,KAAnB,CAFF,CATF,EAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKF,UAAU,CAAC,CAAD,CAAV,CAAcC,MAAnB,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKD,UAAU,CAAC,CAAD,CAAV,CAAcE,KAAnB,CAFF,CAbF,EAiBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKF,UAAU,CAAC,CAAD,CAAV,CAAcC,MAAnB,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKD,UAAU,CAAC,CAAD,CAAV,CAAcE,KAAnB,CAFF,CAjBF,CAPF,CAJF,CAjBN,EAqDM;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,EAEE,oBAAC,KAAD;AAAO,UAAA,QAAQ,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAFF,CADF,CADF,EAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF,CADF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAFF,CALF,EASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF,CATF,EAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF,CAbF,EAiBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAFF,CAjBF,CAPF,CAFF,CArDN,EAsFM;AAAK,UAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,iBAAD;AACE,UAAA,MAAM,EAAC,aADT;AAEE,UAAA,KAAK,EAAEd,MAAM,CAACoE,KAFhB;AAGE,UAAA,MAAM,EAAC,IAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CAtFN,EA8FM;AAAK,UAAA,EAAE,EAAC,MAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UA9FN,CADS;AAAA,OADT,CADF;AAyGD;;;;EA7JoB3E,S;;AAiKvB,IAAM4E,SAAS,GAAG,SAAZA,SAAY,CAAAH,QAAQ;AAAA,SAAI,CAAC,CAACA,QAAN;AAAA,CAA1B;;AAEA,eAAevE,iBAAiB,CAAC0E,SAAD,CAAjB,CAA6BzB,QAA7B,CAAf","sourcesContent":["import React, { Component } from 'react';\n\nimport { AuthUserContext, withAuthorization } from '../Session';\nimport { Alert, Label, Input } from 'reactstrap';\nimport TradingViewWidget, { Themes } from 'react-tradingview-widget'\nimport { Table } from 'reactstrap';\nimport { Collapse, Button, CardBody, Card } from 'reactstrap';\nimport './home.css';\nimport { render } from 'react-dom'\n\nconst SYMBOL = '01. symbol'\nconst OPEN_PRICE = '02. open'\nconst HIGH_PRICE = '03. high'\nconst LOW_PRICE = '04. low'\nconst CURRENT_PRICE = '05. price'\n\nvar stocksList = [\n  {ticker:'AAPL', price: ''},\n  {ticker:'MSFT', price: ''},\n  {ticker:'TSLA', price: ''},\n  {ticker:'FB', price: ''},\n  {ticker:'NFLX', price: ''}\n];\n\nvar alphaKey = '2U48DC45SZ4PJT3U'\n\nasync function getStockPrices() {\n  for (var stock of stocksList) {\n    //Comment out for actual values\n    //var alphaURL = 'https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol='+stock.ticker+'&apikey='+alphaKey;\n  \n    //Comment out for dummy values\n    var alphaURL = 'https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=MSFT&apikey=demo'\n\n    stock.price = await fetch(alphaURL).then(\n      response => response.json()).then(\n        data => {\n          console.log(data)\n          return data['Global Quote'][CURRENT_PRICE];\n        }\n    )\n    console.log(stock.price);\n    //console.log(stocksList);\n  }\n}\n\nfunction viewNews() {\n\n  var url = 'https://newsapi.org/v2/top-headlines?' +\n            'country=us&category=business'+\n\n            '&apiKey=34c665fbab834d7c80356f0bf458b1a7';\n\n  fetch(url)\n    .then(response => response.json())\n    .then(data => {\n      console.log(data);\n  \n    for(var i=0; i < data.articles.length; i++){\n     \n      var title = data.articles[i].title;\n\n      if(title == null){\n        title =\"\";\n      }\n      var desc = data.articles[i].description;\n      var auth = data.articles[i].author;\n      var link = data.articles[i].url;\n      var link1 = data.articles[i].urlToImage;\n      var date = data.articles[i].publishedAt;\n\n\n\n    document.getElementById('root').append('<div class=\"item\"><h2>' + title + '</h2>' +\n               //character of escape: \"quotes\" and '+'\n      '<img src=\"' + link1 +'\">' +\n      '<p class=\"publishedAt\">' + date + '</p>' +\n      '<p>' + desc + '</p>' +\n      '<p>' + auth + '</p>' +\n               //character of escape: \"quotes\" and '+'\n      '<a href=\"'+ link +'\">Read more</a></div>'\n      );\n      }\n  });\n}\n\n\nclass HomePage extends Component {\n  constructor(){\n    super();\n    this.state = {\n      authUser: null,\n      balance: '',\n\n    }\n    //this.handleChange = this.handleChange.bind(this);\n    //this.handleSubmitStock = this.handleSubmitStock.bind(this);\n  }\n\n  async componentDidMount() {\n    viewNews();\n    await getStockPrices();\n    this.props.firebase.db.collection(\"Users\").doc(this.props.firebase.auth.O).get().then(data => {\n        this.setState({data: data});\n        console.log(data.data());\n        this.setState({\n          balance: data.data().balance,\n          username: data.data().username\n        })\n      }\n    )\n  }\n  handleSubmit = e => {\n    e.preventDefault();\n    var stock = document.getElementById('stock').value;\n    var tokens = document.getElementById('tokens').value;\n    if(this.state.balance-tokens  > 0){ \n      console.log(this.props.firebase.auth.O);\n      var userDoc = this.props.firebase.db.collection(\"Users\").doc(this.props.firebase.auth.O);\n      userDoc.set({\n        balance: (this.state.balance-tokens)\n      }, {merge: true});\n      userDoc.collection(\"Bets\").add({\n        stockId: stock,\n        bet: tokens\n      });\n    }\n    this.props.firebase.db.collection(\"Users\").doc(this.props.firebase.auth.O).get().then(data => {\n        this.setState({data: data});\n        console.log(data.data().balance);\n        this.setState({\n          balance: data.data().balance,\n        })\n      }\n    )\n  }\n  \n\n  render() {\n    return (\n      <AuthUserContext.Consumer>\n      {authUser => (\n      <div>\n        <div className=\"home-page\">\n          <h1>Welcome to Instinctiv, {this.state.username}</h1>\n          <p>The Home Page is accessible by every signed in user.</p>\n          <input type=\"text\" className=\"input\" placeholder=\"Search...\" />\n            </div>\n            <div className=\"float-center\">\n              <Alert color=\"primary\">\n                Token Balance: {this.state.balance}\n              </Alert>\n              <form onSubmit={this.handleSubmit}>\n                <Label for=\"Stock\">Stock</Label>\n                <Input type=\"text\" name=\"StockID\" id=\"stock\" placeholder=\"Enter a Stock ID\" />\n                <Input type=\"number\" name=\"tokens\" id=\"tokens\" placeholder=\"Enter a amount to bet\" />\n                <Button>Submit</Button>\n              </form>              \n            </div>\n            <div className=\"float-right\">\n      \n                <h3>Favorites</h3>\n      \n              <Table stripped>\n                <thead>\n                  <tr>\n                    <th>Ticker</th>\n                    <th>Price</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr>\n                    <td>{stocksList[0].ticker}</td>\n                    <td>{stocksList[0].price}</td>\n                  </tr>\n                  <tr>\n                    <td>{stocksList[1].ticker}</td>\n                    <td>{stocksList[1].price}</td>\n                  </tr>\n                  <tr>\n                    <td>{stocksList[2].ticker}</td>\n                    <td>{stocksList[2].price}</td>\n                  </tr>\n                  <tr>\n                    <td>{stocksList[3].ticker}</td>\n                    <td>{stocksList[3].price}</td>\n                  </tr>\n                  <tr>\n                    <td>{stocksList[4].ticker}</td>\n                    <td>{stocksList[4].price}</td>\n                  </tr>\n                </tbody>\n              </Table>\n            </div>\n            \n            <div className=\"float-left\">\n              <h3>Leaderboard</h3>\n              <Table stripped>\n                <thead>\n                  <tr>\n                    <th>User</th>\n                    <th>Score</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr>\n                    <td>Alpha</td>\n                    <td>95.33%</td>\n                  </tr>\n                  <tr>\n                    <td>Beta</td>\n                    <td>92.1%</td>\n                  </tr>\n                  <tr>\n                    <td>Gamma</td>\n                    <td>75.66%</td>\n                  </tr>\n                  <tr>\n                    <td>Delta</td>\n                    <td>72.54%</td>\n                  </tr>\n                  <tr>\n                    <td>Epsilon</td>\n                    <td>56.5%</td>\n                  </tr>\n                </tbody>\n              </Table>\n            </div>\n            <div className=\"stock-chart\">\n              <TradingViewWidget\n                symbol=\"NASDAQ:AAPL\"\n                theme={Themes.LIGHT}\n                locale=\"en\"\n              />\n              \n            </div>\n            <div id=\"news\">\n\n            </div>\n        </div>\n      )}\n      </AuthUserContext.Consumer>\n    );\n    \n  }\n\n}\n\nconst condition = authUser => !!authUser;\n\nexport default withAuthorization(condition)(HomePage);"]},"metadata":{},"sourceType":"module"}