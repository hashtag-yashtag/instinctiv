{"ast":null,"code":"import _classCallCheck from \"/Users/yash/instinctiv/instinctiv/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/yash/instinctiv/instinctiv/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/yash/instinctiv/instinctiv/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/yash/instinctiv/instinctiv/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/yash/instinctiv/instinctiv/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/yash/instinctiv/instinctiv/src/components/Google/SignInGoogle.js\";\nimport React, { Component } from 'react';\nimport * as ROUTES from '../../constants/routes';\nimport { Button } from 'reactstrap';\n\nvar SignInGoogleBase =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SignInGoogleBase, _Component);\n\n  function SignInGoogleBase(props) {\n    var _this;\n\n    _classCallCheck(this, SignInGoogleBase);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SignInGoogleBase).call(this, props));\n\n    _this.onSubmit = function (event) {\n      _this.props.firebase.doSignInWithGoogle().then(function (socialAuthUser) {\n        // Create a user in your Firebase Realtime Database too\n        return _this.props.firebase.db.collection(\"Users\").doc(socialAuthUser.user.uid).set({\n          username: socialAuthUser.user.displayName,\n          email: socialAuthUser.user.email //roles: [],\n\n        }, {\n          merge: true\n        });\n      }).then(function (socialAuthUser) {\n        _this.setState({\n          error: null\n        });\n\n        _this.props.history.push(ROUTES.HOME);\n      }).catch(function (error) {\n        _this.setState({\n          error: error\n        });\n      });\n\n      event.preventDefault();\n    };\n\n    _this.state = {\n      error: null\n    };\n    return _this;\n  }\n\n  _createClass(SignInGoogleBase, [{\n    key: \"render\",\n    value: function render() {\n      var error = this.state.error;\n      return React.createElement(\"form\", {\n        onSubmit: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"primary\",\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, \"Sign In with Google\"), error && React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, error.message));\n    }\n  }]);\n\n  return SignInGoogleBase;\n}(Component);\n\nexport default SignInGoogleBase;","map":{"version":3,"sources":["/Users/yash/instinctiv/instinctiv/src/components/Google/SignInGoogle.js"],"names":["React","Component","ROUTES","Button","SignInGoogleBase","props","onSubmit","event","firebase","doSignInWithGoogle","then","socialAuthUser","db","collection","doc","user","uid","set","username","displayName","email","merge","setState","error","history","push","HOME","catch","preventDefault","state","message"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,KAAKC,MAAZ,MAAwB,wBAAxB;AAEA,SAAQC,MAAR,QAAqB,YAArB;;IAEMC,gB;;;;;AACF,4BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,0FAAMA,KAAN;;AADiB,UAMnBC,QANmB,GAMR,UAAAC,KAAK,EAAI;AAClB,YAAKF,KAAL,CAAWG,QAAX,CACGC,kBADH,GAEGC,IAFH,CAEQ,UAAAC,cAAc,EAAI;AACpB;AACA,eAAO,MAAKN,KAAL,CAAWG,QAAX,CAAoBI,EAApB,CAAuBC,UAAvB,CAAkC,OAAlC,EAA2CC,GAA3C,CAA+CH,cAAc,CAACI,IAAf,CAAoBC,GAAnE,EACJC,GADI,CACA;AACHC,UAAAA,QAAQ,EAAEP,cAAc,CAACI,IAAf,CAAoBI,WAD3B;AAEHC,UAAAA,KAAK,EAAET,cAAc,CAACI,IAAf,CAAoBK,KAFxB,CAGH;;AAHG,SADA,EAKF;AAACC,UAAAA,KAAK,EAAE;AAAR,SALE,CAAP;AAMD,OAVL,EAWGX,IAXH,CAWQ,UAAAC,cAAc,EAAI;AACtB,cAAKW,QAAL,CAAc;AAAEC,UAAAA,KAAK,EAAE;AAAT,SAAd;;AACA,cAAKlB,KAAL,CAAWmB,OAAX,CAAmBC,IAAnB,CAAwBvB,MAAM,CAACwB,IAA/B;AACD,OAdH,EAeGC,KAfH,CAeS,UAAAJ,KAAK,EAAI;AACd,cAAKD,QAAL,CAAc;AAAEC,UAAAA,KAAK,EAALA;AAAF,SAAd;AACD,OAjBH;;AAmBAhB,MAAAA,KAAK,CAACqB,cAAN;AACD,KA3BkB;;AAGjB,UAAKC,KAAL,GAAa;AAAEN,MAAAA,KAAK,EAAE;AAAT,KAAb;AAHiB;AAIlB;;;;6BAyBQ;AAAA,UACCA,KADD,GACW,KAAKM,KADhB,CACCN,KADD;AAGP,aACE;AAAM,QAAA,QAAQ,EAAE,KAAKjB,QAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAG,SAAhB;AAA0B,QAAA,IAAI,EAAC,QAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BADF,EAIGiB,KAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAIA,KAAK,CAACO,OAAV,CAJZ,CADF;AAQD;;;;EAzC0B7B,S;;AA6C/B,eAAeG,gBAAf","sourcesContent":["import React, { Component } from 'react';\nimport * as ROUTES from '../../constants/routes';\n\nimport {Button} from 'reactstrap';\n\nclass SignInGoogleBase extends Component {\n    constructor(props) {\n      super(props);\n  \n      this.state = { error: null };\n    }\n  \n    onSubmit = event => {\n      this.props.firebase\n        .doSignInWithGoogle()\n        .then(socialAuthUser => {\n            // Create a user in your Firebase Realtime Database too\n            return this.props.firebase.db.collection(\"Users\").doc(socialAuthUser.user.uid)\n              .set({\n                username: socialAuthUser.user.displayName,\n                email: socialAuthUser.user.email,\n                //roles: [],\n              }, {merge: true});\n          })\n        .then(socialAuthUser => {\n          this.setState({ error: null });\n          this.props.history.push(ROUTES.HOME);\n        })\n        .catch(error => {\n          this.setState({ error });\n        });\n  \n      event.preventDefault();\n    };\n  \n    render() {\n      const { error } = this.state;\n  \n      return (\n        <form onSubmit={this.onSubmit}>\n          <Button color = \"primary\" type=\"submit\">Sign In with Google</Button>\n\n  \n          {error && <p>{error.message}</p>}\n        </form>\n      );\n    }\n  }\n\n\nexport default SignInGoogleBase;\n"]},"metadata":{},"sourceType":"module"}