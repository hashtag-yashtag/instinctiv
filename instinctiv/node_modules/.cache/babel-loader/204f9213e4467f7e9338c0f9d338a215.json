{"ast":null,"code":"import _regeneratorRuntime from \"/Users/yash/instinctiv/instinctiv/node_modules/@babel/runtime/regenerator\";\nimport _classCallCheck from \"/Users/yash/instinctiv/instinctiv/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/yash/instinctiv/instinctiv/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/yash/instinctiv/instinctiv/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/yash/instinctiv/instinctiv/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/yash/instinctiv/instinctiv/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _asyncToGenerator from \"/Users/yash/instinctiv/instinctiv/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/Users/yash/instinctiv/instinctiv/src/components/Home/index.js\";\nimport React, { Component } from 'react';\nimport { AuthUserContext, withAuthorization } from '../Session';\nimport { Alert, Label, Input } from 'reactstrap';\nimport TradingViewWidget, { Themes } from 'react-tradingview-widget';\nimport { Table } from 'reactstrap';\nimport { Collapse, Button, CardBody, Card } from 'reactstrap';\nimport './home.css';\nimport { render } from 'react-dom';\nvar SYMBOL = '01. symbol';\nvar OPEN_PRICE = '02. open';\nvar HIGH_PRICE = '03. high';\nvar LOW_PRICE = '04. low';\nvar CURRENT_PRICE = '05. price';\nvar stocksList = [{\n  ticker: 'AAPL',\n  price: ''\n}, {\n  ticker: 'MSFT',\n  price: ''\n}, {\n  ticker: 'TSLA',\n  price: ''\n}, {\n  ticker: 'FB',\n  price: ''\n}, {\n  ticker: 'NFLX',\n  price: ''\n}];\nvar alphaKey = '2U48DC45SZ4PJT3U';\n\nfunction getStockPrices() {\n  return _getStockPrices.apply(this, arguments);\n}\n\nfunction _getStockPrices() {\n  _getStockPrices = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee4() {\n    var _i, stock, alphaURL;\n\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _i = 0;\n\n          case 1:\n            if (!(_i < stocksList.length)) {\n              _context4.next = 15;\n              break;\n            }\n\n            stock = stocksList[_i];\n            //Comment out for actual values\n            // var alphaURL = 'https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol='+stock.ticker+'&apikey='+alphaKey;\n            //Comment out for dummy values\n            alphaURL = 'https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=MSFT&apikey=demo';\n            _context4.next = 6;\n            return fetch(alphaURL).then(function (response) {\n              return response.json();\n            }).then(function (data) {\n              console.log(data);\n              return data['Global Quote'][CURRENT_PRICE];\n            });\n\n          case 6:\n            stock.price = _context4.sent;\n            _context4.next = 9;\n            return fetch(alphaURL).then(function (response) {\n              return response.json();\n            }).then(function (data) {\n              console.log(data);\n              return data['Global Quote'][SYMBOL];\n            });\n\n          case 9:\n            stock.ticker = _context4.sent;\n            console.log(stock.price);\n            console.log(stocksList);\n\n          case 12:\n            _i++;\n            _context4.next = 1;\n            break;\n\n          case 15:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this);\n  }));\n  return _getStockPrices.apply(this, arguments);\n}\n\nvar HomePage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(HomePage, _Component);\n\n  function HomePage() {\n    var _this;\n\n    _classCallCheck(this, HomePage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HomePage).call(this));\n    _this.callApi =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var response, body;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch('/api/hello');\n\n            case 2:\n              response = _context.sent;\n              _context.next = 5;\n              return response.json();\n\n            case 5:\n              body = _context.sent;\n\n              if (!(response.status !== 200)) {\n                _context.next = 8;\n                break;\n              }\n\n              throw Error(body.message);\n\n            case 8:\n              return _context.abrupt(\"return\", body);\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    _this.handleSubmit =\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(e) {\n        var response, body;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                e.preventDefault();\n                _context2.next = 3;\n                return fetch('/api/world', {\n                  method: 'POST',\n                  headers: {\n                    'Content-Type': 'application/json'\n                  },\n                  body: JSON.stringify({\n                    post: _this.state.post\n                  })\n                });\n\n              case 3:\n                response = _context2.sent;\n                _context2.next = 6;\n                return response.text();\n\n              case 6:\n                body = _context2.sent;\n\n                _this.setState({\n                  responseToPost: body\n                });\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    _this.state = {\n      authUser: null,\n      balance: '',\n      response: '',\n      post: '',\n      responseToPost: ''\n    }; //this.handleChange = this.handleChange.bind(this);\n    //this.handleSubmitStock = this.handleSubmitStock.bind(this);\n\n    return _this;\n  }\n\n  _createClass(HomePage, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3() {\n        var _this2 = this;\n\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                //viewNews();\n                this.callApi().then(function (res) {\n                  return _this2.setState({\n                    response: res.express\n                  });\n                }).catch(function (err) {\n                  return console.log(err);\n                });\n                this.props.firebase.db.collection(\"Users\").doc(this.props.firebase.auth.O).onSnapshot(function (docSnapshot) {\n                  console.log(\"Received doc snapshot: docSnapshot\", docSnapshot.data());\n\n                  _this2.setState({\n                    balance: docSnapshot.data().balance,\n                    username: docSnapshot.data().username\n                  }); // ...\n\n                }, function (err) {\n                  console.log(\"Encountered error: \".concat(err));\n                });\n                console.log(this.state.response); // await getStockPrices();//Do this at end\n\n                /*\n                this.props.firebase.db.collection(\"Users\").doc(this.props.firebase.auth.O).get().then(data => {\n                    this.setState({data: data});\n                    console.log(data.data());\n                    this.setState({\n                      balance: data.data().balance,\n                      username: data.data().username\n                    })\n                  }\n                ) */\n\n              case 3:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(AuthUserContext.Consumer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, function (authUser) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"home-page\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125\n          },\n          __self: this\n        }, \"Welcome to Instinctiv, \", _this3.state.username), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127\n          },\n          __self: this\n        }, _this3.state.response), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128\n          },\n          __self: this\n        }, \"The Home Page is accessible by every signed in user.\"), React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"column small-centered small-11 medium-6 large-5\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        }, React.createElement(Input, {\n          type: \"text\",\n          name: \"Search\",\n          placeholder: \"Search...\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"float-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134\n          },\n          __self: this\n        }, React.createElement(Alert, {\n          color: \"primary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135\n          },\n          __self: this\n        }, \"Token Balance: \", _this3.state.balance))))), React.createElement(\"div\", {\n          className: \"float-right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }, \"Favorites\"), React.createElement(Table, {\n          stripped: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146\n          },\n          __self: this\n        }, React.createElement(\"thead\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147\n          },\n          __self: this\n        }, React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }, React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        }, \"Ticker\"), React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, \"Price\"))), React.createElement(\"tbody\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153\n          },\n          __self: this\n        }, React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155\n          },\n          __self: this\n        }, \"stock\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156\n          },\n          __self: this\n        }, \"price\")), React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159\n          },\n          __self: this\n        }, \"stock\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160\n          },\n          __self: this\n        }, \"price\")), React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163\n          },\n          __self: this\n        }, \"stock\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164\n          },\n          __self: this\n        }, \"price\")), React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167\n          },\n          __self: this\n        }, \"stock\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168\n          },\n          __self: this\n        }, \"price\")), React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 171\n          },\n          __self: this\n        }, \"stock\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172\n          },\n          __self: this\n        }, \"price\"))))), React.createElement(\"div\", {\n          className: \"float-left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179\n          },\n          __self: this\n        }, \"Leaderboard\"), React.createElement(Table, {\n          stripped: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 180\n          },\n          __self: this\n        }, React.createElement(\"thead\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 181\n          },\n          __self: this\n        }, React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182\n          },\n          __self: this\n        }, React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183\n          },\n          __self: this\n        }, \"User\"), React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184\n          },\n          __self: this\n        }, \"Score\"))), React.createElement(\"tbody\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187\n          },\n          __self: this\n        }, React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 189\n          },\n          __self: this\n        }, \"Alpha\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190\n          },\n          __self: this\n        }, \"95.33%\")), React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 192\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 193\n          },\n          __self: this\n        }, \"Beta\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 194\n          },\n          __self: this\n        }, \"92.1%\")), React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 197\n          },\n          __self: this\n        }, \"Gamma\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 198\n          },\n          __self: this\n        }, \"75.66%\")), React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 201\n          },\n          __self: this\n        }, \"Delta\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202\n          },\n          __self: this\n        }, \"72.54%\")), React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 204\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 205\n          },\n          __self: this\n        }, \"Epsilon\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 206\n          },\n          __self: this\n        }, \"56.5%\"))))), React.createElement(\"div\", {\n          className: \"stock-chart\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211\n          },\n          __self: this\n        }, React.createElement(TradingViewWidget, {\n          symbol: \"AMZN\",\n          theme: Themes.LIGHT,\n          locale: \"en\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 212\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          id: \"news\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219\n          },\n          __self: this\n        }));\n      });\n    }\n  }]);\n\n  return HomePage;\n}(Component);\n\nvar condition = function condition(authUser) {\n  return !!authUser;\n};\n\nexport default withAuthorization(condition)(HomePage);","map":{"version":3,"sources":["/Users/yash/instinctiv/instinctiv/src/components/Home/index.js"],"names":["React","Component","AuthUserContext","withAuthorization","Alert","Label","Input","TradingViewWidget","Themes","Table","Collapse","Button","CardBody","Card","render","SYMBOL","OPEN_PRICE","HIGH_PRICE","LOW_PRICE","CURRENT_PRICE","stocksList","ticker","price","alphaKey","getStockPrices","stock","alphaURL","fetch","then","response","json","data","console","log","HomePage","callApi","body","status","Error","message","handleSubmit","e","preventDefault","method","headers","JSON","stringify","post","state","text","setState","responseToPost","authUser","balance","res","express","catch","err","props","firebase","db","collection","doc","auth","O","onSnapshot","docSnapshot","username","LIGHT","condition"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport { AuthUserContext, withAuthorization } from '../Session';\nimport { Alert, Label, Input } from 'reactstrap';\nimport TradingViewWidget, { Themes } from 'react-tradingview-widget'\nimport { Table } from 'reactstrap';\nimport { Collapse, Button, CardBody, Card } from 'reactstrap';\nimport './home.css';\nimport { render } from 'react-dom'\n\nconst SYMBOL = '01. symbol'\nconst OPEN_PRICE = '02. open'\nconst HIGH_PRICE = '03. high'\nconst LOW_PRICE = '04. low'\nconst CURRENT_PRICE = '05. price'\n\nvar stocksList = [\n  {ticker:'AAPL', price: ''},\n  {ticker:'MSFT', price: ''},\n  {ticker:'TSLA', price: ''},\n  {ticker:'FB', price: ''},\n  {ticker:'NFLX', price: ''}\n];\n\nvar alphaKey = '2U48DC45SZ4PJT3U'\n\nasync function getStockPrices() {\n  for (var stock of stocksList) {\n    //Comment out for actual values\n    // var alphaURL = 'https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol='+stock.ticker+'&apikey='+alphaKey;\n\n    //Comment out for dummy values\n    var alphaURL = 'https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=MSFT&apikey=demo'\n\n    stock.price = await fetch(alphaURL).then(\n      response => response.json()).then(\n        data => {\n          console.log(data)\n          return data['Global Quote'][CURRENT_PRICE];\n        }\n    )\n    stock.ticker = await fetch(alphaURL).then(\n      response => response.json()).then(\n        data => {\n          console.log(data)\n          return data['Global Quote'][SYMBOL];\n        }\n    )\n    console.log(stock.price);\n    console.log(stocksList);\n  }\n}\n\nclass HomePage extends Component {\n  constructor(){\n    super();\n    this.state = {\n      authUser: null,\n      balance: '',\n      response: '',\n      post: '',\n      responseToPost: ''\n    };\n    //this.handleChange = this.handleChange.bind(this);\n    //this.handleSubmitStock = this.handleSubmitStock.bind(this);\n  }\n\n  async componentDidMount() {\n    //viewNews();\n    this.callApi().then(\n      res => this.setState({ response: res.express})\n    ).catch(err => console.log(err));\n\n    this.props.firebase.db.collection(\"Users\").doc(this.props.firebase.auth.O).onSnapshot(docSnapshot => {\n      console.log(`Received doc snapshot: docSnapshot`, docSnapshot.data());\n      this.setState({\n        balance: docSnapshot.data().balance,\n        username: docSnapshot.data().username\n      });      // ...\n    }, err => {\n      console.log(`Encountered error: ${err}`);\n    });\n    console.log(this.state.response);\n    // await getStockPrices();//Do this at end\n    /*\n    this.props.firebase.db.collection(\"Users\").doc(this.props.firebase.auth.O).get().then(data => {\n        this.setState({data: data});\n        console.log(data.data());\n        this.setState({\n          balance: data.data().balance,\n          username: data.data().username\n        })\n      }\n    ) */\n  }\n\n  callApi = async () => {\n    const response = await fetch('/api/hello');\n    const body = await response.json();\n    if (response.status !== 200) throw Error(body.message);\n\n    return body;\n  };\n  \n  handleSubmit = async e => {\n    e.preventDefault();\n    const response = await fetch('/api/world', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ post: this.state.post }),\n    });\n    const body = await response.text();\n    this.setState({ responseToPost: body });\n  };\n\n  render() {\n    return (\n      <AuthUserContext.Consumer>\n      {authUser => (\n      <div>\n\n        <div className=\"home-page\">\n          <h1>Welcome to Instinctiv, {this.state.username}</h1>\n\n          <p>{this.state.response}</p>\n          <p>The Home Page is accessible by every signed in user.</p>\n            <div className=\"row\">\n                <div className=\"column small-centered small-11 medium-6 large-5\">\n\n                    <Input type=\"text\" name=\"Search\" placeholder=\"Search...\" />\n\n            <div className=\"float-center\">\n              <Alert color=\"primary\">\n                Token Balance: {this.state.balance}\n              </Alert>\n                </div>\n            </div>\n          </div>\n        </div>\n            <div className=\"float-right\">\n\n                <h3>Favorites</h3>\n\n              <Table stripped>\n                <thead>\n                  <tr>\n                    <th>Ticker</th>\n                    <th>Price</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr>\n                    <td>stock</td>\n                    <td>price</td>\n                  </tr>\n                  <tr>\n                    <td>stock</td>\n                    <td>price</td>\n                  </tr>\n                  <tr>\n                    <td>stock</td>\n                    <td>price</td>\n                  </tr>\n                  <tr>\n                    <td>stock</td>\n                    <td>price</td>\n                  </tr>\n                  <tr>\n                    <td>stock</td>\n                    <td>price</td>\n                  </tr>\n                </tbody>\n              </Table>\n            </div>\n\n            <div className=\"float-left\">\n              <h3>Leaderboard</h3>\n              <Table stripped>\n                <thead>\n                  <tr>\n                    <th>User</th>\n                    <th>Score</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr>\n                    <td>Alpha</td>\n                    <td>95.33%</td>\n                  </tr>\n                  <tr>\n                    <td>Beta</td>\n                    <td>92.1%</td>\n                  </tr>\n                  <tr>\n                    <td>Gamma</td>\n                    <td>75.66%</td>\n                  </tr>\n                  <tr>\n                    <td>Delta</td>\n                    <td>72.54%</td>\n                  </tr>\n                  <tr>\n                    <td>Epsilon</td>\n                    <td>56.5%</td>\n                  </tr>\n                </tbody>\n              </Table>\n            </div>\n            <div className=\"stock-chart\">\n              <TradingViewWidget\n                symbol=\"AMZN\"\n                theme={Themes.LIGHT}\n                locale=\"en\"\n              />\n\n            </div>\n            <div id=\"news\">\n\n            </div>\n        </div>\n      )}\n      </AuthUserContext.Consumer>\n    );\n\n  }\n\n}\n\nconst condition = authUser => !!authUser;\n\nexport default withAuthorization(condition)(HomePage);\n"]},"metadata":{},"sourceType":"module"}