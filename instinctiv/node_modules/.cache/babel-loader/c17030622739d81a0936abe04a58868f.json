{"ast":null,"code":"import _regeneratorRuntime from \"/Users/yash/instinctiv/instinctiv/node_modules/@babel/runtime/regenerator\";\nimport _classCallCheck from \"/Users/yash/instinctiv/instinctiv/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/yash/instinctiv/instinctiv/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/yash/instinctiv/instinctiv/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/yash/instinctiv/instinctiv/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/yash/instinctiv/instinctiv/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _asyncToGenerator from \"/Users/yash/instinctiv/instinctiv/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/Users/yash/instinctiv/instinctiv/src/components/Home/index.js\";\nimport React, { Component } from 'react';\nimport { AuthUserContext, withAuthorization } from '../Session';\nimport { Alert, Label, Input } from 'reactstrap';\nimport TradingViewWidget, { Themes } from 'react-tradingview-widget';\nimport { Table } from 'reactstrap';\nimport { Collapse, Button, CardBody, Card } from 'reactstrap';\nimport './home.css';\nimport { render } from 'react-dom';\nimport TextInput from 'react-autocomplete-input';\nimport 'react-autocomplete-input/dist/bundle.css';\nimport * as firebase from 'firebase';\nvar SYMBOL = '01. symbol';\nvar OPEN_PRICE = '02. open';\nvar HIGH_PRICE = '03. high';\nvar LOW_PRICE = '04. low';\nvar CURRENT_PRICE = '05. price';\nvar stockSearchList = [];\nvar stocksList = [{\n  ticker: 'AAPL',\n  price: ''\n}, {\n  ticker: 'MSFT',\n  price: ''\n}, {\n  ticker: 'TSLA',\n  price: ''\n}, {\n  ticker: 'FB',\n  price: ''\n}, {\n  ticker: 'NFLX',\n  price: ''\n}];\nvar alphaKey = '2U48DC45SZ4PJT3U';\n\nfunction getStockPrices() {\n  return _getStockPrices.apply(this, arguments);\n}\n\nfunction _getStockPrices() {\n  _getStockPrices = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee2() {\n    var _i, stock, alphaURL;\n\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _i = 0;\n\n          case 1:\n            if (!(_i < stocksList.length)) {\n              _context2.next = 15;\n              break;\n            }\n\n            stock = stocksList[_i];\n            //Comment out for actual values\n            // var alphaURL = 'https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol='+stock.ticker+'&apikey='+alphaKey;\n            //Comment out for dummy values\n            alphaURL = 'https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=MSFT&apikey=demo';\n            _context2.next = 6;\n            return fetch(alphaURL).then(function (response) {\n              return response.json();\n            }).then(function (data) {\n              console.log(data);\n              return data['Global Quote'][CURRENT_PRICE];\n            });\n\n          case 6:\n            stock.price = _context2.sent;\n            _context2.next = 9;\n            return fetch(alphaURL).then(function (response) {\n              return response.json();\n            }).then(function (data) {\n              console.log(data);\n              return data['Global Quote'][SYMBOL];\n            });\n\n          case 9:\n            stock.ticker = _context2.sent;\n            console.log(stock.price);\n            console.log(stocksList);\n\n          case 12:\n            _i++;\n            _context2.next = 1;\n            break;\n\n          case 15:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n  return _getStockPrices.apply(this, arguments);\n}\n\nvar HomePage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(HomePage, _Component);\n\n  function HomePage() {\n    var _this;\n\n    _classCallCheck(this, HomePage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HomePage).call(this));\n    _this.state = {\n      authUser: null,\n      balance: '' //this.handleChange = this.handleChange.bind(this);\n      //this.handleSubmitStock = this.handleSubmitStock.bind(this);\n\n    };\n    return _this;\n  }\n\n  _createClass(HomePage, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var _this2 = this;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.props.firebase.db.collection(\"Users\").doc(this.props.firebase.auth.O).onSnapshot(function (docSnapshot) {\n                  console.log(\"Received doc snapshot: docSnapshot\", docSnapshot.data());\n\n                  _this2.setState({\n                    balance: docSnapshot.data().balance,\n                    username: docSnapshot.data().username\n                  }); // ...\n\n                }, function (err) {\n                  console.log(\"Encountered error: \".concat(err));\n                });\n                this.props.firebase.collection('Stocks').on('value', function (snapshot) {\n                  console.log(snapshot.val());\n                }); //NEEDS FIX HERE\n                //ADD EACH TICKER AND NAME TO STOCKLIST[]\n\n                /*\n                this.props.firebase.db.collection(\"Users\").doc(this.props.firebase.auth.O).get().then(data => {\n                    this.setState({data: data});\n                    console.log(data.data());\n                    this.setState({\n                      balance: data.data().balance,\n                      username: data.data().username\n                    })\n                  }\n                ) */\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(AuthUserContext.Consumer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, function (authUser) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"home-page\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        }, \"Welcome to Instinctiv, \", _this3.state.username), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        }, \"The Home Page is accessible by every signed in user.\"), React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"column small-centered small-11 medium-6 large-5\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115\n          },\n          __self: this\n        }, React.createElement(TextInput, {\n          options: stockSearchList,\n          trigger: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"float-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118\n          },\n          __self: this\n        }, React.createElement(Alert, {\n          color: \"primary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }, \"Token Balance: \", _this3.state.balance))))), React.createElement(\"div\", {\n          className: \"float-right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128\n          },\n          __self: this\n        }, \"Favorites\"), React.createElement(Table, {\n          stripped: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        }, React.createElement(\"thead\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131\n          },\n          __self: this\n        }, React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132\n          },\n          __self: this\n        }, React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133\n          },\n          __self: this\n        }, \"Ticker\"), React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134\n          },\n          __self: this\n        }, \"Price\"))), React.createElement(\"tbody\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137\n          },\n          __self: this\n        }, React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139\n          },\n          __self: this\n        }, \"stock\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        }, \"price\")), React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143\n          },\n          __self: this\n        }, \"stock\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }, \"price\")), React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147\n          },\n          __self: this\n        }, \"stock\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }, \"price\")), React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151\n          },\n          __self: this\n        }, \"stock\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        }, \"price\")), React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155\n          },\n          __self: this\n        }, \"stock\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156\n          },\n          __self: this\n        }, \"price\"))))), React.createElement(\"div\", {\n          className: \"float-left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163\n          },\n          __self: this\n        }, \"Leaderboard\"), React.createElement(Table, {\n          stripped: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164\n          },\n          __self: this\n        }, React.createElement(\"thead\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165\n          },\n          __self: this\n        }, React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166\n          },\n          __self: this\n        }, React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167\n          },\n          __self: this\n        }, \"User\"), React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168\n          },\n          __self: this\n        }, \"Score\"))), React.createElement(\"tbody\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 171\n          },\n          __self: this\n        }, React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173\n          },\n          __self: this\n        }, \"Alpha\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174\n          },\n          __self: this\n        }, \"95.33%\")), React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177\n          },\n          __self: this\n        }, \"Beta\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178\n          },\n          __self: this\n        }, \"92.1%\")), React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 180\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 181\n          },\n          __self: this\n        }, \"Gamma\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182\n          },\n          __self: this\n        }, \"75.66%\")), React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 185\n          },\n          __self: this\n        }, \"Delta\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186\n          },\n          __self: this\n        }, \"72.54%\")), React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 189\n          },\n          __self: this\n        }, \"Epsilon\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190\n          },\n          __self: this\n        }, \"56.5%\"))))), React.createElement(\"div\", {\n          className: \"stock-chart\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195\n          },\n          __self: this\n        }, React.createElement(TradingViewWidget, {\n          symbol: \"AMZN\",\n          theme: Themes.LIGHT,\n          locale: \"en\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          id: \"news\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203\n          },\n          __self: this\n        }));\n      });\n    }\n  }]);\n\n  return HomePage;\n}(Component);\n\nvar condition = function condition(authUser) {\n  return !!authUser;\n};\n\nexport default withAuthorization(condition)(HomePage);","map":{"version":3,"sources":["/Users/yash/instinctiv/instinctiv/src/components/Home/index.js"],"names":["React","Component","AuthUserContext","withAuthorization","Alert","Label","Input","TradingViewWidget","Themes","Table","Collapse","Button","CardBody","Card","render","TextInput","firebase","SYMBOL","OPEN_PRICE","HIGH_PRICE","LOW_PRICE","CURRENT_PRICE","stockSearchList","stocksList","ticker","price","alphaKey","getStockPrices","stock","alphaURL","fetch","then","response","json","data","console","log","HomePage","state","authUser","balance","props","db","collection","doc","auth","O","onSnapshot","docSnapshot","setState","username","err","on","snapshot","val","LIGHT","condition"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport { AuthUserContext, withAuthorization } from '../Session';\nimport { Alert, Label, Input } from 'reactstrap';\nimport TradingViewWidget, { Themes } from 'react-tradingview-widget'\nimport { Table } from 'reactstrap';\nimport { Collapse, Button, CardBody, Card } from 'reactstrap';\nimport './home.css';\nimport { render } from 'react-dom'\nimport TextInput from 'react-autocomplete-input'\nimport 'react-autocomplete-input/dist/bundle.css'\nimport * as firebase from 'firebase'\n\nconst SYMBOL = '01. symbol'\nconst OPEN_PRICE = '02. open'\nconst HIGH_PRICE = '03. high'\nconst LOW_PRICE = '04. low'\nconst CURRENT_PRICE = '05. price'\n\nvar stockSearchList = []\n\n\nvar stocksList = [\n  {ticker:'AAPL', price: ''},\n  {ticker:'MSFT', price: ''},\n  {ticker:'TSLA', price: ''},\n  {ticker:'FB', price: ''},\n  {ticker:'NFLX', price: ''}\n];\n\nvar alphaKey = '2U48DC45SZ4PJT3U'\n\nasync function getStockPrices() {\n  for (var stock of stocksList) {\n    //Comment out for actual values\n    // var alphaURL = 'https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol='+stock.ticker+'&apikey='+alphaKey;\n\n    //Comment out for dummy values\n    var alphaURL = 'https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=MSFT&apikey=demo'\n\n    stock.price = await fetch(alphaURL).then(\n      response => response.json()).then(\n        data => {\n          console.log(data)\n          return data['Global Quote'][CURRENT_PRICE];\n        }\n    )\n    stock.ticker = await fetch(alphaURL).then(\n      response => response.json()).then(\n        data => {\n          console.log(data)\n          return data['Global Quote'][SYMBOL];\n        }\n    )\n    console.log(stock.price);\n    console.log(stocksList);\n  }\n}\n\nclass HomePage extends Component {\n  \n  constructor(){\n    super();\n    this.state = {\n      authUser: null,\n      balance: '',\n\n    }\n    //this.handleChange = this.handleChange.bind(this);\n    //this.handleSubmitStock = this.handleSubmitStock.bind(this);\n  }\n\n  async componentDidMount() {\n    this.props.firebase.db.collection(\"Users\").doc(this.props.firebase.auth.O).onSnapshot(docSnapshot => {\n      console.log(`Received doc snapshot: docSnapshot`, docSnapshot.data());\n      this.setState({\n        balance: docSnapshot.data().balance,\n        username: docSnapshot.data().username\n      });      // ...\n    }, err => {\n      console.log(`Encountered error: ${err}`);\n    });\n    \n    this.props.firebase.collection('Stocks').on('value', snapshot => {\n      console.log(snapshot.val());\n      });\n\n    //NEEDS FIX HERE\n    //ADD EACH TICKER AND NAME TO STOCKLIST[]\n    \n    /*\n    this.props.firebase.db.collection(\"Users\").doc(this.props.firebase.auth.O).get().then(data => {\n        this.setState({data: data});\n        console.log(data.data());\n        this.setState({\n          balance: data.data().balance,\n          username: data.data().username\n        })\n      }\n    ) */\n  }\n\n\n  render() {\n    return (\n      <AuthUserContext.Consumer>\n      {authUser => (\n      <div>\n\n        <div className=\"home-page\">\n          <h1>Welcome to Instinctiv, {this.state.username}</h1>\n\n          <p>The Home Page is accessible by every signed in user.</p>\n            <div className=\"row\">\n                <div className=\"column small-centered small-11 medium-6 large-5\">\n                <TextInput options={stockSearchList} trigger='' />\n\n            <div className=\"float-center\">\n              <Alert color=\"primary\">\n                Token Balance: {this.state.balance}\n              </Alert>\n                </div>\n            </div>\n          </div>\n        </div>\n            <div className=\"float-right\">\n\n                <h3>Favorites</h3>\n\n              <Table stripped>\n                <thead>\n                  <tr>\n                    <th>Ticker</th>\n                    <th>Price</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr>\n                    <td>stock</td>\n                    <td>price</td>\n                  </tr>\n                  <tr>\n                    <td>stock</td>\n                    <td>price</td>\n                  </tr>\n                  <tr>\n                    <td>stock</td>\n                    <td>price</td>\n                  </tr>\n                  <tr>\n                    <td>stock</td>\n                    <td>price</td>\n                  </tr>\n                  <tr>\n                    <td>stock</td>\n                    <td>price</td>\n                  </tr>\n                </tbody>\n              </Table>\n            </div>\n\n            <div className=\"float-left\">\n              <h3>Leaderboard</h3>\n              <Table stripped>\n                <thead>\n                  <tr>\n                    <th>User</th>\n                    <th>Score</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr>\n                    <td>Alpha</td>\n                    <td>95.33%</td>\n                  </tr>\n                  <tr>\n                    <td>Beta</td>\n                    <td>92.1%</td>\n                  </tr>\n                  <tr>\n                    <td>Gamma</td>\n                    <td>75.66%</td>\n                  </tr>\n                  <tr>\n                    <td>Delta</td>\n                    <td>72.54%</td>\n                  </tr>\n                  <tr>\n                    <td>Epsilon</td>\n                    <td>56.5%</td>\n                  </tr>\n                </tbody>\n              </Table>\n            </div>\n            <div className=\"stock-chart\">\n              <TradingViewWidget\n                symbol=\"AMZN\"\n                theme={Themes.LIGHT}\n                locale=\"en\"\n              />\n\n            </div>\n            <div id=\"news\">\n\n            </div>\n        </div>\n      )}\n      </AuthUserContext.Consumer>\n    );\n\n  }\n\n}\n\nconst condition = authUser => !!authUser;\n\nexport default withAuthorization(condition)(HomePage);\n"]},"metadata":{},"sourceType":"module"}